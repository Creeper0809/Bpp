// Covers: SSA generic struct value + nested calls (O1)
// Mode: ssa
// Opt: O1
// Expect exit code: 0

// Import

struct Pair {
    a: u64;
    b: u64;
}

func id<T>(x: T) -> T { return x; }

func sum_pair(p: Pair) -> u64 {
    return p.a + p.b;
}

func main() -> u64 {
    // Setup
    var p: Pair;
    p.a = 10;
    p.b = 20;

    // Execution
    var q: Pair = id(p);
    var v: u64 = sum_pair(id(q));

    // Assertion
    if (v != 30) { return 24; }
    return 0;
}
