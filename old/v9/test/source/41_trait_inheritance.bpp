// Covers: trait inheritance in struct ':' list with explicit impl block
// Expect exit code: 0

trait Calc {
    func add(self: *Self, v: i64) -> i64;
}

struct Base {
    public base: i64;
}

struct C: Base, Calc {
    public extra: i64;
}

impl Calc for C {
    public func add(self: *C, v: i64) -> i64 {
        return self.base + self.extra + v;
    }
}

func main() -> u64 {
    // Import

    // Setup
    var c: C;
    c.base = 3;
    c.extra = 4;

    // Execution
    var tc: *Calc = (*Calc)&c;
    var r: i64 = tc.add(5);
    if (r != 12) { return 1; }

    // Assertion
    return 0;
}
