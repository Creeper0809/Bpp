// Covers: compile-fail check for private field access from outside owner struct
// Expect compile fail: 1
// Expect error contains: private field access denied

struct SecretBox {
    private hidden: i64;
    public opened: i64;
}

impl SecretBox {
    public func init(self: *SecretBox, v: i64) {
        self.hidden = v;
        self.opened = v + 1;
    }
}

func main() -> i64 {
    var b: SecretBox;
    b.init(10);
    var leaked: i64 = b.hidden;
    return leaked;
}
