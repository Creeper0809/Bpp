// Covers: abstract method inheritance enforcement
// Expect exit code: 0

struct Parent {
    public value: i64;
}

struct Child : Parent {
    public extra: i64;
}

impl Parent {
    public abst func calc(self: *Parent) -> i64;
}

impl Child {
    @[override]
    public func calc(self: *Child) -> i64 {
        return self.value + self.extra;
    }
}

func main(argc, argv) -> i64 {
    // Import

    // Setup
    var c: Child;
    c.value = 10;
    c.extra = 5;

    // Execution
    var res: i64 = c.calc();

    // Assertion
    if (res != 15) { return 1; }
    return 0;
}
