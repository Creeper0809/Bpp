// Covers: compile-fail for strict downcast without trait/vtable metadata
// Expect compile fail: 1
// Expect error contains: unchecked downcast is forbidden without virtual dispatch metadata

struct BaseNoRtti {
    public a: i64;
}

struct LeftNoRtti : BaseNoRtti {
    public l: i64;
}

struct RightNoRtti : BaseNoRtti {
    public r: i64;
}

func main() -> i64 {
    var b: BaseNoRtti;
    b.a = 1;
    var p: *BaseNoRtti = (*BaseNoRtti)&b;
    var bad: *RightNoRtti = (*RightNoRtti)p;
    return bad.r;
}
