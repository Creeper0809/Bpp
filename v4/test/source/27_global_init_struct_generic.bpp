// Covers: global struct literal init + generic struct literal init
// Mode: ssa|nossa
// Opt: O0|O1
// Expect exit code: 0

struct Pair {
    a: u64;
    b: u16;
    c: u8;
}

struct Box<T> {
    value: T;
    weight: u64;
}

const BASE = 9;

var g_pair: Pair = Pair { 40, 2, 3 };
var g_pair2: Pair = Pair { BASE, 1, 1 };
var g_box: Box<u64> = Box<u64> { 7, 100 };

func main() -> u64 {
    // Import

    // Setup
    var total: u64 = 0;

    // Execution
    total = total + g_pair.a + (u64)g_pair.b + (u64)g_pair.c;
    total = total + g_pair2.a + (u64)g_pair2.b + (u64)g_pair2.c;
    total = total + g_box.value + g_box.weight;

    // Assertion
    if (total != 163) { return 1; }
    return 0;
}
